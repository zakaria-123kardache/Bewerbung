const translations = {
  EN: {
    job_title: "Full Stack Web Developer",
    about_me: "Passionate Full Stack Developer skilled in Javascript and PHP. Expertise in designing scalable solutions. Collaborative team player with experience in high-quality project delivery. Actively exploring emerging technologies to stay ahead. Eager to contribute, solve complex challenges and drive impactful results.",
    experience: "Experience",
    education: "Education",
    languages: "Languages",
    skills: "Skills",
    interests: "Interests",
    articles: "Articles",
    projects: "Projects",
    english: "English: B1",
    french: "French: B1",
    german: "German: B2",
    arabic: "Arabic: Native",
    experience_data: [
      {
        employer: "Al Fourate Clinic",
        job_title: "Nurse",
        date: "Apr 2024 - Jul 2024",
        description: [
          "Blood glucose and blood pressure measurement",
          "Wound care and dressings",
          "Paramedical products",
          "Patient contact and care"
        ]
      }
    ],
    education_data: [
      {
        school: "YouCode UM6P",
        school_url: "https://youcode.ma",
        job_title: "Developer Program",
        date: "Sep 2024 - Aug 2025",
        description: "Recognizing the value of continuous learning, I enrolled in the program to refine my skills, take advantage of the structured curriculum and engage with senior mentors, which fortified my foundation in software engineering."
      },
      {
        school: "Hassan II University",
        school_url: "https://www.uh2c.ac.ma",
        job_title: "Faculty of Sciences Ben M'sik",
        date: "Sep 2021 - Jul 2022",
        description: "During my studies, I gained a deep understanding of programming fundamentals, C language basics, algorithms, and binary systems, forming a solid foundation for my career in software development."
      },
      {
        school: "OMAR AL KHAYYAM High School",
        school_url: "#",
        job_title: "International Mathematics Specialization",
        date: "Jul 2021",
        description: "Option: French, successfully completed"
      }
    ],
    projects_data: [
      {
        name: "YouShope",
        resume: "E-commerce Application for managing products, carts, orders, and online payments.",
        source_code: "https://github.com/zakaria-123kardache/YouShope.git",
        status: "Continuously updated / In development",
        required_skills: ["Laravel9", "PHP8", "Bootstrap", "MySQL", "JavaScript", "CSS3", "UML", "ORM design"]
      },
      {
        name: "BiblioSchool",
        resume: "Web Application for managing a school library.",
        source_code: "Private / Proprietary",
        status: "Continuously updated / In development",
        required_skills: ["PHP8", "MySQL", "Bootstrap", "SQL", "JavaScript", "CSS3", "UML", "Design/Architectural patterns"]
      },
      {
        name: "MindMemory",
        resume: "Creation of a classic memory game.",
        source_code: "https://github.com/zakaria-123kardache/MindMemory.git",
        status: "Completed",
        required_skills: ["JS", "HTML5", "CSS3"]
      },
      {
        name: "Contactify",
        resume: "Web application for contact management.",
        source_code: "https://github.com/zakaria-123kardache/Contactify.git",
        status: "Completed",
        required_skills: ["PHP8", "MySQL", "Bootstrap", "OOP", "MVC patterns", "SQL"]
      },
      {
        name: "FUT Champions",
        resume: "Web Application for managing Ultimate Team in EA FC 25, allowing users to create, customize, and manage tactical formations and player teams via an interactive interface.",
        source_code: "https://github.com/zakaria-123kardache/FUT_Champions.git",
        status: "Completed",
        required_skills: ["JS", "HTML5", "Bootstrap", "Native CSS3", "JSON"]
      }
    ],
    articles_data: [
      {
        title: "MVC Framework",
        description: "This guide provides a detailed, step-by-step tutorial on setting up a PHP project with MVC, including database connection configuration using Singleton and PDO, environment variables, and creating a custom routing system from scratch.",
        link: "https://medium.com/@kardasch/mvc-model-view-controller-c324c5a150b5",
        date: "February 2, 2025",
        author: "Me | Coding"
      }
    ]
  },
  FR: {
    job_title: "Développeur Web Full Stack",
    about_me: "Développeur Full Stack passionné, compétent en Javascript et PHP. Expérience dans la conception de solutions évolutives et haute qualité. Joueur d'équipe collaboratif. Reste à jour avec les technologies émergentes. Avide de contribuer, résoudre des défis complexes et de générer des résultats impactants.",
    experience: "Expérience",
    education: "Éducation",
    languages: "Langues",
    skills: "Compétences",
    interests: "Intérêts",
    articles: "Articles",
    projects: "Projets",
    english: "Anglais: B1",
    french: "Français: B1",
    german: "Allemand: B2",
    arabic: "Arabe: Natif",
    experience_data: [
      {
        employer: "Clinique Al Fourate",
        job_title: "Infirmier",
        date: "Avr 2024 - Juil 2024",
        description: [
          "Mesure de la glycémie et de la tension artérielle",
          "Soins des plaies et pansements",
          "Produits paramédicaux",
          "Contact avec les patients et soins"
        ]
      }
    ],
    education_data: [
      {
        school: "YouCode UM6P",
        school_url: "https://youcode.ma",
        job_title: "Programme Développeur",
        date: "Sep 2024 - Août 2025",
        description: "Reconnaissant la valeur de l'apprentissage continu, je me suis inscrit au programme structuré pour perfectionner mes compétences et échanger avec des mentors seniors, renforçant ainsi ma base en ingénierie logicielle."
      },
      {
        school: "Université Hassan II",
        school_url: "https://www.uh2c.ac.ma",
        job_title: "Faculté des Sciences Ben M'sik",
        date: "Sep 2021 - Juil 2022",
        description: "Pendant mes études, j'ai acquis une compréhension approfondie des principes fondamentaux de la programmation, ainsi que des bases du langage C, de l'algorithmique et du système binaire, constituant une base solide pour mon parcours en développement logiciel."
      },
      {
        school: "Lycée OMAR AL KHAYYAM",
        school_url: "#",
        job_title: "Filière : Spécialisation Internationale en Mathématiques",
        date: "Juil 2021",
        description: "Option : Français, réussi avec succès"
      }
    ],
    projects_data: [
      {
        name: "YouShope",
        resume: "Application E-commerce de gestion de produits, paniers, commandes et paiements en ligne.",
        source_code: "https://github.com/zakaria-123kardache/YouShope.git",
        status: "Continuement mis à jour / En développement",
        required_skills: ["Laravel9", "PHP8", "Bootstrap", "MySQL", "JavaScript", "CSS3", "UML", "ORM design"]
      },
      {
        name: "BiblioSchool",
        resume: "Application web pour la gestion d'une bibliothèque scolaire.",
        source_code: "Private / Proprietary",
        status: "Continuement mis à jour / En développement",
        required_skills: ["PHP8", "MySQL", "Bootstrap", "SQL", "JavaScript", "CSS3", "UML", "Design/Architectural patterns"]
      },
      {
        name: "MindMemory",
        resume: "Création d'un jeu de mémoire classique.",
        source_code: "https://github.com/zakaria-123kardache/MindMemory.git",
        status: "Terminé",
        required_skills: ["JS", "HTML5", "CSS3"]
      },
      {
        name: "Contactify",
        resume: "Application web de gestion des contacts.",
        source_code: "https://github.com/zakaria-123kardache/Contactify.git",
        status: "Terminé",
        required_skills: ["PHP8", "MySQL", "Bootstrap", "OOP", "MVC patterns", "SQL"]
      },
      {
        name: "FUT Champions",
        resume: "Application web de gestion d'équipe Ultimate Team pour EA FC 25, permettant aux utilisateurs de créer, personnaliser et gérer leurs formations tactiques et équipes via une interface interactive.",
        source_code: "https://github.com/zakaria-123kardache/FUT_Champions.git",
        status: "Terminé",
        required_skills: ["JS", "HTML5", "Bootstrap", "CSS3 natif", "JSON"]
      }
    ],
    articles_data: [
      {
        title: "MVC Framework",
        description: "Ce guide propose un tutoriel détaillé, étape par étape, sur la mise en place d'un projet PHP avec MVC, y compris la configuration d'une connexion à une base de données avec Singleton et PDO, l'utilisation de variables d'environnement et la création d'un système de routage personnalisé.",
        link: "https://medium.com/@kardasch/mvc-model-view-controller-c324c5a150b5",
        date: "2 février 2025",
        author: "Moi | Coding"
      }
    ]
  },
  DE: {
    job_title: "Full Stack Entwickler",
    about_me: "Leidenschaftlicher Full Stack Entwickler mit Kenntnissen in JavaScript und PHP. Erfahrung in der Gestaltung skalierbarer und hochwertiger Lösungen. Teamplayer, stets auf dem neuesten Stand der Technik. Bereit, komplexe Herausforderungen anzugehen und nachhaltige Ergebnisse zu erzielen.",
    experience: "Erfahrung",
    education: "Ausbildung",
    languages: "Sprachen",
    skills: "Fähigkeiten",
    interests: "Interessen",
    articles: "Artikel",
    projects: "Projekte",
    english: "Englisch: B1",
    french: "Französisch: B1",
    german: "Deutsch: B2",
    arabic: "Arabisch: Muttersprache",
    experience_data: [
      {
        employer: "Klinik Al Fourate",
        job_title: "Krankenpfleger",
        date: "Apr 2024 - Jul 2024",
        description: [
          "Messung von Blutzucker und Blutdruck",
          "Wundversorgung und Verbände",
          "Medizinische Hilfsmittel",
          "Patientenkontakt und Pflege"
        ]
      }
    ],
    education_data: [
      {
        school: "YouCode UM6P",
        school_url: "https://youcode.ma",
        job_title: "Entwicklerprogramm",
        date: "Sep 2024 - Aug 2025",
        description: "Im Bewusstsein der Bedeutung kontinuierlichen Lernens habe ich an diesem Programm teilgenommen, um meine Fähigkeiten zu verfeinern und von strukturiertem Unterricht sowie erfahrenen Mentoren zu profitieren, was meine Grundlagen in der Softwareentwicklung gestärkt hat."
      },
      {
        school: "Universität Hassan II",
        school_url: "https://www.uh2c.ac.ma",
        job_title: "Fakultät für Wissenschaften Ben M'sik",
        date: "Sep 2021 - Jul 2022",
        description: "Während meines Studiums habe ich ein tiefes Verständnis der Programmiergrundlagen sowie der C-Sprache, Algorithmen und Binärsysteme erworben, was eine solide Basis für meine Karriere im Softwarebereich bildet."
      },
      {
        school: "Gymnasium OMAR AL KHAYYAM",
        school_url: "#",
        job_title: "Fachrichtung: Internationale Mathematik",
        date: "Jul 2021",
        description: "Option: Französisch, erfolgreich abgeschlossen"
      }
    ],
    projects_data: [
      {
        name: "YouShope",
        resume: "E-Commerce-Anwendung zur Verwaltung von Produkten, Warenkörben, Bestellungen und Online-Zahlungen.",
        source_code: "https://github.com/zakaria-123kardache/YouShope.git",
        status: "Kontinuierlich aktualisiert / In Entwicklung",
        required_skills: ["Laravel9", "PHP8", "Bootstrap", "MySQL", "JavaScript", "CSS3", "UML", "ORM design"]
      },
      {
        name: "BiblioSchool",
        resume: "Webanwendung zur Verwaltung einer Schulbibliothek.",
        source_code: "Private / Proprietary",
        status: "Kontinuierlich aktualisiert / In Entwicklung",
        required_skills: ["PHP8", "MySQL", "Bootstrap", "SQL", "JavaScript", "CSS3", "UML", "Design/Architectural patterns"]
      },
      {
        name: "MindMemory",
        resume: "Erstellung eines klassischen Gedächtnisspiels.",
        source_code: "https://github.com/zakaria-123kardache/MindMemory.git",
        status: "Abgeschlossen",
        required_skills: ["JS", "HTML5", "CSS3"]
      },
      {
        name: "Contactify",
        resume: "Webanwendung zur Kontaktverwaltung.",
        source_code: "https://github.com/zakaria-123kardache/Contactify.git",
        status: "Abgeschlossen",
        required_skills: ["PHP8", "MySQL", "Bootstrap", "OOP", "MVC patterns", "SQL"]
      },
      {
        name: "FUT Champions",
        resume: "Webanwendung zur Verwaltung von Ultimate Team für EA FC 25, mit der Benutzer taktische Formationen und Spielerteams über eine interaktive Oberfläche erstellen, anpassen und verwalten können.",
        source_code: "https://github.com/zakaria-123kardache/FUT_Champions.git",
        status: "Abgeschlossen",
        required_skills: ["JS", "HTML5", "Bootstrap", "Natives CSS3", "JSON"]
      }
    ],
    articles_data: [
      {
        title: "MVC Framework",
        description: "Dieser Leitfaden bietet ein detailliertes Tutorial zur Einrichtung eines PHP-Projekts mit MVC, einschließlich Datenbankverbindung mit Singleton und PDO, Umgebungsvariablen und einem benutzerdefinierten Routing-System von Grund auf.",
        link: "https://medium.com/@kardasch/mvc-model-view-controller-c324c5a150b5",
        date: "2. Februar 2025",
        author: "Ich | Coding"
      }
    ]
  }
};

const languagesArray = ["EN", "FR", "DE"];
let languageIndex = 0;

const updateContent = (language) => {
  const data = translations[language];
  const toTranslate = document.querySelectorAll("[data-translate]");
  toTranslate.forEach((translate) => {
    const key = translate.getAttribute("data-translate");
    if (data[key]) translate.innerText = data[key];
  });

  const experienceContainer = document.getElementById("experience");
  experienceContainer.innerHTML = "";
  data.experience_data.forEach(job => {
    const jobDiv = document.createElement("div");
    jobDiv.classList.add("job", "mb-6", "pb-6", "border-b", "border-solid", "border-b-[#d3d3d3]", "sm:flex", "sm:justify-between", "sm:gap-8", "w-[100%]");
    jobDiv.innerHTML = `
      <div class="job-title-container md:flex-col flex-row flex justify-between text-lg mb-5 sm:w-[25%]">
        <div>
          <div class="job-company font-bold leading-[1.2]">${job.employer}</div>
          <div class="job-title">${job.job_title}</div>
          <div>${job.date}</div>
        </div>
      </div>
      <ul class="list-disc sm:w-[75%]">
        ${job.description.map(task => `<li>${task}</li>`).join('')}
      </ul>
    `;
    experienceContainer.appendChild(jobDiv);
  });

  const educationContainer = document.getElementById("education");
  educationContainer.innerHTML = "";
  data.education_data.forEach(edu => {
    const eduDiv = document.createElement("div");
    eduDiv.classList.add("border-b", "border-solid", "mb-6", "pb-6");
    eduDiv.innerHTML = `
      <div class="job-title-container md:flex-col flex-row flex justify-between text-lg mb-3">
        <div>
          <div class="job-company font-bold leading-[1.2]"><a href="${edu.school_url}" target="_blank">${edu.school}</a></div>
          <div class="job-title">${edu.job_title}</div>
        </div>
        <div>${edu.date}</div>
      </div>
      <p>${edu.description}</p>
    `;
    educationContainer.appendChild(eduDiv);
  });

  const projectsContainer = document.getElementById("projects");
  projectsContainer.innerHTML = "";
  data.projects_data.forEach(project => {
    const projectDiv = document.createElement("div");
    projectDiv.classList.add("job", "mb-6", "pb-6", "border-b-[#d3d3d3]", "border-b", "border-solid", "sm:flex", "sm:justify-between", "sm:gap-8", "w-[100%]");
    projectDiv.innerHTML = `
      <div class="job-title-container md:flex-col flex-row flex justify-between text-lg mb-5 sm:w-[25%]">
        <div>
          <div class="job-company font-bold leading-[1.2]">${project.name}</div>
        </div>
      </div> 
      <ul class="list-disc sm:w-[75%]">
        <li>${project.resume}</li>
        <li>Source Code: <a href="${project.source_code}" class="no-underline text-main dark:text-slate-50 hover:underline" target="_blank">View Project</a></li>
        <li>Status: ${project.status}</li>
        <li>Required Skills: ${project.required_skills.join(', ')}</li>
      </ul>
    `;
    projectsContainer.appendChild(projectDiv);
  });

  const articlesContainer = document.getElementById("articles");
  articlesContainer.innerHTML = "";
  data.articles_data.forEach(article => {
    const articleDiv = document.createElement("div");
    articleDiv.classList.add("job", "mb-6", "pb-6", "border-b", "border-solid", "border-b-[#d3d3d3]", "sm:flex", "sm:justify-between", "sm:gap-8", "w-[100%]");
    articleDiv.innerHTML = `
      <div class="job-title-container md:flex-col flex-row flex justify-between text-lg mb-5 sm:w-[25%]">
        <div>
          <div class="job-company font-bold leading-[1.2]">${article.title}</div>
          <div class="job-title">${article.author}</div>
          <div>${article.date}</div>
        </div>
      </div>
      <ul class="list-disc sm:w-[75%]">
        <li>${article.description}</li>
        <li>Read article: <a href="${article.link}" class="text-main dark:text-slate-50 hover:underline" target="_blank">Click here</a></li>
      </ul>
    `;
    articlesContainer.appendChild(articleDiv);
  });
};

const handleTranslation = () => {
  languageIndex = (languageIndex + 1) % languagesArray.length;
  updateContent(languagesArray[languageIndex]);
};
const fetchInterests = () => {
  const file = document.body.classList.contains("dark") ? "interests-dark.json" : "interests-light.json";
  fetch(file)
    .then(res => res.json())
    .then(data => {
      const interestsContainer = document.getElementById("interests");
      interestsContainer.innerHTML = data.map(interest => `
        <img width="60" height="60" src="${interest.src}" alt="${interest.alt}" class="md:mr-auto md:mb-auto mr-8 mb-4 hobby-icon"/>
      `).join('');
    })
    .catch(error => console.error("Error fetching interests:", error));
};
document.addEventListener("DOMContentLoaded", () => {
  updateContent(languagesArray[languageIndex]); 

  const languageToggler = document.querySelector(".languageToggler");
  if (languageToggler) {
    languageToggler.addEventListener("click", handleTranslation);
  }

  fetch('skills.json')
    .then(res => res.json())
    .then(data => {
      const skillsContainer = document.getElementById("skills");
      const columnSize = 4;
      let skillsHTML = "";
      for (let i = 0; i < data.length; i += columnSize) {
        const column = data.slice(i, i + columnSize);
        skillsHTML += `
          <ul class="list-disc ml-5">
            ${column.map(skill => `<li>${skill}</li>`).join('')}
          </ul>
        `;
      }
      skillsContainer.innerHTML = skillsHTML;
    })
    .catch(error => console.error("Error fetching skills:", error));

  fetchInterests();

  const themeToggler = document.querySelector(".themeToggler"); 
  if (themeToggler) {
    themeToggler.addEventListener("click", () => {
      document.body.classList.toggle("dark"); 
      fetchInterests(); 
    });
  }
});